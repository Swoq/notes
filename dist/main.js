(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)})([function(a,b,c){a.exports=c(2)},function(){},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function h(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}function j(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function k(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function n(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function o(a,b,c){return b&&n(a.prototype,b),c&&n(a,c),a}function p(a){var b=a.title,c=a.body;return{title:b,body:c}}c.r(b);var q=c(1),r=function(){function a(b,c){var e=b.title,f=b.body;d(this,a),this.id=a.global_id++,this.title=e,this.body=f,this.el=null,this.notesManager=c}return f(a,[{key:'getElement',value:function(){var a=this.getTemplate(),b=document.createElement('div');return b.innerHTML=a.replace('{{title}}',this.title).replace('{{body}}',this.body),this.el=b.children[0],this.attachEventListeners(),this.el}},{key:'getTemplate',value:function(){return'<div class="note">\n                    <div class="note-header">\n                        <span class="note-close">\n                            <i class="fas fa-times"></i>\n                        </span>\n                    </div>\n                    <div class="note-title">\n                        {{title}}\n                    </div>\n                    <div class="note-body">\n                        {{body}}\n                    </div>\n                </div>'}},{key:'attachEventListeners',value:function(){var a=this,b=this.el.querySelector('.note-close');this.el.addEventListener('click',function(){history.pushState(null,null,'#'+a.id),a.notesManager.onShowNote(a)}),b.onclick=function(){a.notesManager.removeNote(a)}}}]),a}();r.global_id='0';var s=function(){function a(b,c){g(this,a),this.note=b,this.el=null,this.notesManager=c}return i(a,[{key:'getElement',value:function(){var a=this.getTemplate(),b=document.createElement('div');return b.innerHTML=a.replace('{{title}}',this.note.title).replace('{{body}}',this.note.body),this.el=b.children[0],this.attachEventListeners(),this.el}},{key:'getTemplate',value:function(){return'<div class="note-edit-field">\n            <div class="edit-field-title" contenteditable="true">\n                <p class="field">{{title}}</p>\n            </div>\n            <div class="edit-field-body" contenteditable="true" >\n                <p class="field">{{body}}</p>\n            </div>\n        </div>'}},{key:'attachEventListeners',value:function(){var a=this,b=this.el.querySelector('.edit-field-title'),c=this.el.querySelector('.edit-field-body');b.addEventListener('input',function(){a.notesManager.onEditTitle(a.note)}),c.addEventListener('input',function(){a.notesManager.onEditBody(a.note)})}}]),a}(),t=function(){function a(b){var c=this,d=b.el,e=b.editFieldEl,f=b.notes;j(this,a),this.el=d,this.editFieldEl=e,this.notes=f.map(function(a){return new r(a,c)}),this.onNewNote=function(){},this.onEditNote=function(){},this.onRemoveNote=function(){},this.renderNotes()}return l(a,[{key:'renderNotes',value:function(){var a=this;this.el.innerHTML='',this.notes.forEach(function(b){return a.renderNote(b.getElement())})}},{key:'renderNote',value:function(a){this.el.append(a)}},{key:'removeNote',value:function(a){this.notes.splice(this.notes.indexOf(a),1),this.renderNotes(),this.onRemoveNote(a)}},{key:'onShowNote',value:function(a){this.renderNotes();var b=new s(a,this),c=b.getElement();this.editFieldEl.replaceWith(c),this.editFieldEl=c}},{key:'onEditTitle',value:function(a){a.title=this.editFieldEl.querySelector('.edit-field-title').innerText,this.onEditNote(a)}},{key:'onEditBody',value:function(a){a.body=this.editFieldEl.querySelector('.edit-field-body').innerText,this.onEditNote(a)}},{key:'addNote',value:function(a){var b=new r(a,this);this.notes.unshift(b),this.renderNotes(),this.onNewNote(b)}}]),a}(),u=function(){function a(b){var c=this;m(this,a),window.addEventListener('hashchange',function(){return c.onRouteChange()}),this.noteManager=b}return o(a,[{key:'onRouteChange',value:function(){var a=window.location.hash.substring(1);this.loadContent(a)}},{key:'loadContent',value:function(a){a>this.noteManager.notes.length&&(a=0,history.pushState(null,null,'#0'),alert('There is no such note!\nRedirected to #0.'));var b=this.noteManager.notes[a];this.noteManager.onShowNote(b)}}]),a}(),v=new t({el:document.querySelector('.notes'),editFieldEl:document.querySelector('.note-edit-field'),notes:function(){for(var a,b=[],c='0';255>c;c++)a=localStorage.getItem(c),null!=a&&b.unshift(JSON.parse(a));return b}()});new u(v),v.onNewNote=function(a){localStorage.setItem(a.id,JSON.stringify(p(a))),console.log('Note added ',a.id)},v.onEditNote=function(a){localStorage.setItem(a.id,JSON.stringify(p(a))),console.log('Note changed ',a.id)},v.onRemoveNote=function(a){localStorage.removeItem(a.id),console.log('Note removed ',a.id)};var w=document.querySelector('.new-note-btn');w.onclick=function(){v.addNote({title:'',body:''})};var x=document.getElementById('saveBtn');x.onclick=function(){v.renderNotes()}}]);